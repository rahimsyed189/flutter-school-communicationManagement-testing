rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // DEVELOPMENT RULES â€” loosened for local testing (replace before prod)
    match /communications/{doc} {
      allow read: if true;         // everyone can view announcements
      allow create, update, delete: if true; // DEV ONLY
    }

    match /users/{doc} {
      allow read: if true;         // app resolves sender names
      allow create, update, delete: if true; // DEV ONLY
    }

    match /custom_templates/{doc} {
      allow read: if true;         // everyone can view templates
      allow create, update, delete: if true; // DEV ONLY
    }

    // Lock everything else
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
